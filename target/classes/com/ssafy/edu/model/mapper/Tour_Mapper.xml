<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gongsurae.awesomeplace.mapper.MemberMapper">
	
	<select id="getTourInfoList" resultType="com.gongsurae.awesomeplace.vo.TourInfoVo">
		SELECT * FROM place
	</select>
	<select id="getTourInfoByHere" resultType="com.ssafy.edu.model.vo.TourInfoVo">
		SELECT TITLE,
		(6371*ACOS(COS(RADIANS(#{mapX}))*COS(RADIANS(MAPX))*COS(RADIANS(MAPY)-RADIANS(mapY))+SIN(RADIANS(#{mapY}))*SIN(RADIANS(MAPY))))
		AS distance
		FROM place
		HAVING distance <![CDATA[<=]]> 0.3
		ORDER BY distance 
		LIMIT 0,300
	</select>
	<select id="getTourInfoByLocation" parameterMap="map" resultType="TourInfoVo">
		<if test="sigunguCode==null">
			SELECT contentId,contentTypeId,mapx,mapy,overview,tel,address,title,zipcode,image,homepage FROM place WHERE areacode=#{areaCode}
		</if>
		<if test="sigunguCode!=null">
			SELECT contentId,contentTypeId,mapx,mapy,overview,tel,address,title,zipcode,image,homepage FROM place WHERE areacode=#{areaCode} and sigunguCode=#{sigunguCode}
		</if>
	</select>
	<select id="getDetailByCId" 
	parameterType="java.lang.Integer" 
	resultType="DetailVo">
		SELECT * FROM SAMETHING
		WHERE CONTENTID = #{contentid}
	</select>
	<insert id="insertTourInfo" parameterType="TourInfoVo">
		
	</insert>
	<delete id=""></delete>
	

</mapper>